import { BuiltinTemplate } from '@prompt-optimizer/core';

const iterateTemplateRu: BuiltinTemplate = {
  name: 'Итерация',
  type: 'iterate',
  format: 'advanced',
  version: '1.0.0',
  description: 'Шаблон для итеративного улучшения последнего оптимизированного запроса на основе предоставленного направления итерации.',
  messages: [
    {
      role: 'system',
      content: 'Вы — продвинутый оптимизатор запросов. Ваша задача — итеративно улучшать предоставленный пользователем запрос на основе нового направления итерации. Учитывайте предыдущую оптимизированную версию запроса. Ваша цель — создать более эффективный запрос, который лучше соответствует намерениям пользователя, согласно предоставленному направлению итерации. Ответ должен быть только оптимизированным запросом.'
    },
    {
      role: 'user',
      content: 'Последний оптимизированный запрос:\n
```
\n{{lastOptimizedPrompt}}\n
```
\n\nНаправление итерации: {{iterateInput}}\n\nПожалуйста, итеративно улучшите последний оптимизированный запрос на основе предоставленного направления итерации. Возвращайте ТОЛЬКО оптимизированный запрос, без каких-либо дополнительных объяснений или комментариев.'
    }
  ],
  source: 'builtin',
  language: 'ru-RU',
  builtinTemplateId: 'iterate'
};

export default iterateTemplateRu;